## Проект "Анализ цен фьючерсов"

### Инструкция по запуску программы

Данная программа содержит основное тело в файле `main.py` в корневой директории проекта. Для успешного запуска программы
необходимо выполнить следующие шаги:

#### Шаг 1: Установка зависимостей

Убедитесь, что у вас установлен Python 3.x. Затем выполните следующую команду для установки зависимостей:

```bash
pip install -r requirements.txt
```

Эта команда установит все необходимые библиотеки из файла requirements.txt.\
Убедитесь, что все необходимые зависимости установлены перед запуском кода.

#### Шаг 2: Настройка переменных окружения

Создайте файл .env в корневой директории проекта и скопируйте в него следующие переменные окружения:

```makefile
DB_HOST=localhost
DB_PORT=5432
DB_NAME=db_name
DB_USER=db_user
DB_PASSWORD=db_password
API_KEY=binance_api_key
SECRET_KEY=secret_key_binance
```

Замените значения переменных на соответствующие значения для вашего окружения.

#### Шаг 3: Запуск программы

Теперь вы можете запустить программу с помощью следующей команды:

```bash
python main.py
```

Программа будет использовать настройки из файла .env для доступа к базе данных и для аутентификации на Binance API.

## Для анализа зависимости цен BTC и ETH было решено выбрать библиотеку pandas

Библиотека pandas - это мощный инструмент для анализа данных, который предоставляет удобные средства для работы с
табличными данными. Она позволяет легко загружать, анализировать и манипулировать данными, что делает ее отличным
выбором для работы с историческими данными о ценах на криптовалюты.\
А так же с помощье специального инструмента pd.merge().pct_change() считывается процентное изменение цены с последней
записью в БД

## Работа с библиотекой statsmodels

В этом проекте мы используем библиотеку `statsmodels` для выполнения статистического анализа и регрессионного
моделирования. Один из важных аспектов регрессионного анализа - это определение коэффициентов, таких как коэффициент
наклона, которые описывают влияние независимых переменных на зависимые переменные.

## Вывод коэффициента наклона и регрессионный анализ

Регрессионный анализ - это статистический метод, который используется для изучения взаимосвязи между одной или
несколькими независимыми переменными и зависимой переменной. Он позволяет определить, как изменения в независимых
переменных влияют на изменения в зависимой переменной.
Коэффициент наклона в контексте регрессионного анализа отображает, как изменение независимой переменной влияет (в нашем
случае BTCUSDT) на изменение зависимой переменной (ETHUSDT).

```python
# Вывод коэффициента наклона для переменной close_btcusdt
coefficient_btc = model.params['close_btcusdt']

print(f"Коэффициент наклона для close_btcusdt: {coefficient_btc}")
```

Соответствено coefficient_btc показывает на сколько в среднем изменится ETHUSDT при изменении BTCUSDT на 1 пункт.

## Подсчёт собственного движения цены ETHUSDT

Зная значение coefficient_btc, мы можем вычислить собственное движение цены ETHUSDT на основе изменения цены BTCUSDT.
Для этого используется следующий код:

```python
delta_btc = new_btc_price - btc_price
delta_eth = new_eth_price - eth_price

# Расчет собственного изменения ETH на основе коэффициента наклона
delta_eth_own = coef_btc_to_eth * delta_btc

# Расчет собственного процентного изменения ETH с учётом коэффициента наклона
percent_change_eth_dependent = (coef_btc_to_eth * delta_btc / initial_eth_price) * 100

# Расчет глобального процентного изменения ETH и BTC
percent_change_global_eth = ((current_eth_price - initial_eth_price) / initial_eth_price) * 100
percent_change_global_btc = ((current_btc_price - initial_btc_price) / initial_btc_price) * 100
```

#### Описание переменных:

- delta_btc: Изменение цены BTCUSDT.
- delta_eth: Изменение цены ETHUSDT.
- delta_eth_own: Собственное изменение цены ETHUSDT на основе коэффициента наклона.
- percent_change_eth_dependent: Собственное процентное изменение цены ETHUSDT с учетом коэффициента наклона.
- percent_change_global_eth: Глобальное процентное изменение цены ETHUSDT.
- percent_change_global_btc: Глобальное процентное изменение цены BTCUSDT.

## Сохранение данных в базе данных

Проект также предоставляет возможность сохранять фактические данные по ценам BTCUSDT и ETHUSDT в базу данных для
последующего анализа. Данные сохраняются в таблицу вместе с процентными изменениями относительно начальных значений